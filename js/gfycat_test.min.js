var gfyCollection=function(){function t(e,t){if(t.getElementsByClassName){return t.getElementsByClassName(e)}else{var n=[];var r=t.getElementsByTagName("*");for(var i=0;i<r.length;i++){if((" "+r[i].className+" ").indexOf(" "+e+" ")>-1)n.push(r[i])}return n}}function n(){elem_coll=t("gfyitem",document);for(var n=0;n<elem_coll.length;n++){var r=new gfyObject(elem_coll[n]);e.push(r)}for(var n=0;n<e.length;n++){e[n].init()}}function r(){return e}var e=[];return{init:n,get:r}}();var gfyObject=function(e){function E(e,t){if(t.getElementsByClassName){return t.getElementsByClassName(e)}else{var n=[];var r=t.getElementsByTagName("*");for(var i=0;i<r.length;i++){if((" "+r[i].className+" ").indexOf(" "+e+" ")>-1)n.push(r[i])}return n}}function S(){d=document.createElement("div");d.style.position="absolute";try{d.style.backgroundColor="rgba(0,0,0,0.4)"}catch(e){d.style.backgroundColor="#000";try{d.style.filter="alpha(opacity=60)"}catch(e){}}d.style.color="#fff";d.style.fontFamily="Arial,sans-serif";d.style.fontSize="20px";d.style.padding="10px";d.innerHTML=y.title;d.style.left="0";d.style.top="0";d.style.display="none";t.appendChild(d)}function x(){p=document.createElement("canvas");p.style.position="absolute";p.style.left="0";p.style.top="0";p.onclick=q;p.onmouseout=U;p.onmouseover=R;t.appendChild(p)}function T(){c=document.createElement("video");c.className="gfyVid";if(o)c.autoplay=true;c.loop=true;c.controls=false;c.style.width="100%";c.style.height="auto";c.setAttribute("poster","https://thumbs.gfycat.com/"+y.gfyName+"-poster.jpg");source2=document.createElement("source");source2.src=gfyWebmUrl;source2.type="video/webm";source2.className="webmsource";c.appendChild(source2);source=document.createElement("source");source.src=gfyMp4Url;source.type="video/mp4";source.className="mp4source";c.appendChild(source);t.appendChild(c)}function N(){h=document.createElement("img");h.src=y.gifUrl;if(r)h.style.width="100%";else h.style.maxWidth=y.width+"px";h.style.height="auto";h.onmouseout=U;h.onmouseover=R;t.appendChild(h);t.style.position="relative";t.style.padding=0}function C(){t.style.position="relative";t.style.padding=0;if(!r){t.style.display="inline-block";t.style.boxSizing="border-box";t.style.MozBoxSizing="border-box";t.style.webkitBoxSizing="border-box"}}function k(){if(!s)return;ctrlRow=document.createElement("div");ctrlRow.style.position="relative";u=document.createElement("div");u.className="CtrlBox";a=document.createElement("img");a.className="gfyCtrlPause";a.src="https://assets.gfycat.com/img/placeholder.png";a.style.backgroundImage="url('https://assets.gfycat.com/img/gfycontrols.png')";a.style.cssFloat="right";a.style.marginRight="5px";a.style.width="12px";a.style.height="12px";a.style.borderStyle="none";u.appendChild(a);ctrlReverse=document.createElement("img");ctrlReverse.className="gfyCtrlReverse";ctrlReverse.src="https://assets.gfycat.com/img/placeholder.png";ctrlReverse.style.backgroundImage="url('https://assets.gfycat.com/img/gfycontrols.png')";ctrlReverse.style.cssFloat="right";ctrlReverse.style.marginRight="5px";ctrlReverse.style.width="14px";ctrlReverse.style.height="12px";ctrlReverse.style.backgroundPosition="-46px 0";ctrlReverse.style.borderStyle="none";f=document.createElement("img");f.className="gfyCtrlSlower";f.src="https://assets.gfycat.com/img/placeholder.png";f.style.backgroundImage="url('https://assets.gfycat.com/img/gfycontrols.png')";f.style.marginRight="5px";f.style.width="14px";f.style.height="12px";f.style.cssFloat="right";f.style.borderStyle="none";l=document.createElement("img");l.className="gfyCtrlFaster";l.src="https://assets.gfycat.com/img/placeholder.png";l.style.backgroundImage="url('https://assets.gfycat.com/img/gfycontrols.png')";l.style.width="14px";l.style.height="12px";l.style.cssFloat="right";l.style.marginRight="5px";l.style.borderStyle="none";if(c.paused)F();else I();u.style.position="relative";u.style.cssFloat="right";u.style.width="100px";u.style.padding="5px";u.style.margin="0";u.setAttribute("id","ctr"+n);a.onclick=q;ctrlReverse.onclick=z;u.appendChild(l);u.appendChild(f);u.appendChild(ctrlReverse);u.appendChild(a);ctrlRow.appendChild(u);t.appendChild(ctrlRow)}function L(){t.removeChild(c)}function A(){n=t.getAttribute("data-id");if(t.getAttribute("data-title")=="true")i=true;if(t.getAttribute("data-expand")=="true")r=true;if(t.getAttribute("data-controls")=="true")s=true;if(t.getAttribute("data-autoplay")=="false")o=false;var e=document.createElement("div");attrib_src=t.attributes;attrib_dest=e.attributes;for(var u=0;u<attrib_src.length;u++){var a=attrib_src.item(u);var f=a.cloneNode();if(f.name=="style"&&a.value!="null"){attrib_dest.setNamedItem(f)}else{}}t.parentNode.replaceChild(e,t);t=e;O("http://gfycat.com/cajax/get/"+n,function(e){if(e){y=e.gfyItem;gfyMp4Url=y.mp4Url;gfyWebmUrl=y.webmUrl;gfyFrameRate=y.frameRate;if(document.createElement("video").canPlayType){T();C();S();x();if(c.addEventListener)c.addEventListener("loadedmetadata",_,false);else c.attachEvent("onloadedmetadata",_);if(o)c.play()}else{m=true;N();S();h.onload=function(){var e=navigator.userAgent.toLowerCase();if(e.indexOf("msie")>-1)d.style.width=h.clientWidth+"px";else d.style.width=h.clientWidth-20+"px"}}}else{}})}function O(e,t,r){var i=0;var s="_"+n+"_"+i++;if(e.match(/\?/))e+="&callback="+s;else e+="?callback="+s;var o=document.createElement("script");o.type="text/javascript";o.src=e;window[s]=function(e){t.call(r||window,e);document.getElementsByTagName("head")[0].removeChild(o);o=null;try{delete window[s]}catch(n){}};document.getElementsByTagName("head")[0].appendChild(o)}function M(){b=c.offsetWidth;w=c.offsetHeight;if(!r&&b>c.videoWidth){b=c.videoWidth;w=c.videoHeight}p.width=b;p.height=w;d.style.width=b-20+"px"}function _(){M();if(!u){k()}if(!o)P()}function D(){var e=p.getContext("2d");if(b)e.clearRect(0,0,b,w)}function P(){var e=p.getContext("2d");e.clearRect(0,0,b,w);e.strokeStyle="rgba(0,0,0,0)";e.fillStyle="rgba(255,68,0,.7)";e.lineWidth=5;var t=70;var n=80;var r=5;if(w<160||b<200){n=n*w/240;t=t*w/240;r=3}H(e,[[b/2-t/2,w/2-n/2],[b/2+t/2,w/2],[b/2-t/2,w/2+n/2]],r);e.stroke();e.fill()}function H(e,t,n){if(n>0){t=B(t,n)}var r,i,s=t.length;e.beginPath();for(r=0;r<s;r++){i=t[r];if(r==0){e.moveTo(i[0],i[1])}else{e.lineTo(i[0],i[1])}if(n>0){e.quadraticCurveTo(i[2],i[3],i[4],i[5])}}e.closePath()}function B(e,t){var n,r,i,s,o,u,a,f,l=e.length,c=new Array(l);for(r=0;r<l;r++){n=r-1;i=r+1;if(n<0){n=l-1}if(i==l){i=0}s=e[n];o=e[r];u=e[i];a=j(s[0],s[1],o[0],o[1],t,false);f=j(o[0],o[1],u[0],u[1],t,true);c[r]=[a[0],a[1],o[0],o[1],f[0],f[1]]}return c}function j(e,t,n,r,i,s){var o=Math.sqrt(Math.pow(n-e,2)+Math.pow(r-t,2)),u=s?i/o:(o-i)/o;return[e+u*(n-e),t+u*(r-t)]}function F(){if(!s){P();return}a.style.backgroundPosition="-71px 0";f.style.backgroundPosition="0 0";f.style.marginLeft="6px";l.style.backgroundPosition="-192px 0";l.style.width="8px";l.onclick=V;f.onclick=$}function I(){D();if(!s)return;a.style.backgroundPosition="-95px 0";l.style.backgroundPosition="-20px 0";f.style.backgroundPosition="-165px 0";l.style.width="14px";f.style.marginLeft="0px";l.onclick=X;f.onclick=W}function q(){if(c.paused){c.play();I()}else{c.pause();F()}}function R(){if(!i||!y.title)return;d.style.display="block"}function U(){if(!i)return;d.style.display="none"}function z(){a.style.backgroundPosition="-95px 0";f.style.backgroundPosition="0 0";f.style.marginLeft="6px";l.style.backgroundPosition="-192px 0";l.style.width="8px";l.onclick=V;f.onclick=$;c.pause();var e=E("mp4source",c)[0];var t=E("webmsource",c)[0];if(v){e.src=e.src.replace(/-reverse\.mp4/g,".mp4");e.src=e.src.replace(/-reverse\.webm/g,".webm");t.src=t.src.replace(/-reverse\.webm/g,".webm");ctrlReverse.style.backgroundPosition="-46px 0";v=false}else{e.src=e.src.replace(/\.mp4/g,"-reverse.mp4");e.src=e.src.replace(/\.webm/g,"-reverse.webm");t.src=t.src.replace(/\.webm/g,"-reverse.webm");ctrlReverse.style.backgroundPosition="-141px 0";v=true}c.playbackRate=1;c.load();c.play()}function W(){if(c.playbackRate<=1)c.playbackRate=c.playbackRate/2;else c.playbackRate--}function X(){if(c.playbackRate<=1){c.playbackRate=c.playbackRate*2}else{c.playbackRate++}}function V(){if(window.opera){var e=c.onplay;c.onplay=function(){c.pause();c.onplay=e};c.play()}else{c.currentTime+=1/gfyFrameRate}}function $(){c.currentTime-=1/gfyFrameRate}function J(){c.load();c.play()}var t=e;var n;var r;var i;var s;var o=true;var u;var a;var f;var l;var c;var h;var p;var d;var v=false;var m=false;var g=this;var y;var b;var w;return{init:A,refresh:J}};if(document.addEventListener)document.addEventListener("DOMContentLoaded",gfyCollection.init,false);else document.attachEvent("onreadystatechange",gfyCollection.init)