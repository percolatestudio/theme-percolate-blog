.grid-oneup() {
  @media screen and (min-width: @breakpoint) { width: 100%; }
  .title { .post-title-oneup(@color-empty); }
  .subtitle { .post-subtitle-oneup(@color-empty); }
}
.grid-twoup() {
  @media screen and (min-width: @breakpoint) { width: 50%; }
}
.grid-threeup() {
  @media screen and (min-width: @breakpoint) { width: 33.33%; }
}

.posts-grid {
  .page-margins;
  .clearfix;
  background: @color-empty;
  clear: both;
  height: 50%;
  min-height: 300px;
  @media screen and (min-width:  @breakpoint) { min-height: 600px;}
  position: relative;

  > .post {
    cursor: pointer;
    float: left;
    overflow: hidden;
    position: relative;


    //account for chrome's non-standard scrollbar/viewport measurement
    height: 100%;
    width: 100%;


    body.home &,
    body.archive & {
      //Style for archive pages only
      //Note: this does not extend beyond 9 grid items
      &:nth-child(1), &:nth-child(6)  {
        .grid-oneup;
      }
      &:nth-child(n+2):nth-child(-n+5) {
        .grid-twoup;
      }
      &:nth-child(n+7):nth-child(-n+9) {
        .grid-threeup;
      }
    }//archive

    body.single & {
      /* one item */
      &:first-child:nth-last-child(1) {
        .grid-oneup;
      }

      /* two items */
      &:first-child:nth-last-child(2),
      &:first-child:nth-last-child(2) ~ div {
        .grid-twoup;
      }

      /* three items */
      &:first-child:nth-last-child(3),
      &:first-child:nth-last-child(3) ~ div {
        .grid-threeup;
      }
    }//single

    body.error404 & {
      .grid-twoup;
    }

  }
}
